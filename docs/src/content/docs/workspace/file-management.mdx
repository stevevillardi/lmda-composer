---
title: File Management
description: Opening, saving, and managing local script files.
---

import { Card, CardGrid, Steps, Tabs, TabItem, Aside, Badge, LinkCard } from '@astrojs/starlight/components';
import { Icon } from '@astrojs/starlight/components';
import StatusBadge from '../../../components/StatusBadge.astro';
import FeatureCard from '../../../components/FeatureCard.astro';

LMDA Composer supports working with local files on your computer, allowing you to develop scripts outside of LogicModules and manage your own script library.

## File Types

### Supported Extensions

<div style="display: grid; gap: 0.5rem; margin: 1rem 0;">
  <div style="display: flex; align-items: center; gap: 0.75rem;">
    <Badge text=".groovy" variant="success" />
    <span style="font-size: 0.875rem;">Groovy scripts</span>
  </div>
  <div style="display: flex; align-items: center; gap: 0.75rem;">
    <Badge text=".ps1" variant="note" />
    <span style="font-size: 0.875rem;">PowerShell scripts</span>
  </div>
  <div style="display: flex; align-items: center; gap: 0.75rem;">
    <Badge text=".txt" variant="default" />
    <span style="font-size: 0.875rem;">Plain text (uses tab language setting)</span>
  </div>
</div>

When you open a file, the extension determines the language, syntax highlighting applies automatically, and execution mode defaults to Freeform.

---

## Opening Files

<CardGrid>
  <FeatureCard title="Welcome Screen" icon="rocket" color="orange">
    Click **Open File** and select from the system dialog.
  </FeatureCard>
  <FeatureCard title="Keyboard" icon="laptop" color="blue">
    Press <kbd>Ctrl</kbd>+<kbd>K</kbd>, <kbd>O</kbd> / <kbd>Cmd</kbd>+<kbd>K</kbd>, <kbd>O</kbd>.
  </FeatureCard>
  <FeatureCard title="Drag and Drop" icon="folder" color="purple">
    Drag a file onto the LMDA Composer window.
  </FeatureCard>
  <FeatureCard title="Recent Files" icon="history" color="green">
    Click a file from the recent files list on the welcome screen.
  </FeatureCard>
</CardGrid>

---

## Open Module Directory

Open a saved module folder to restore a previously saved LogicModule with its metadata and portal binding intact.

### What It Does

<CardGrid>
  <FeatureCard title="Restore Module Binding" icon="link" color="blue">
    Automatically reconnects to the original portal and module from saved metadata.
  </FeatureCard>
  <FeatureCard title="Enable Commit Workflow" icon="upload" color="green">
    Push changes back to LogicMonitor just like a freshly loaded module.
  </FeatureCard>
  <FeatureCard title="Load All Scripts" icon="layers" color="purple">
    Opens the main script plus any AD scripts or pre-scripts in the folder.
  </FeatureCard>
</CardGrid>

### How to Access

<CardGrid>
  <FeatureCard title="Keyboard" icon="laptop" color="blue">
    Press <kbd>Cmd</kbd>+<kbd>K</kbd>, <kbd>F</kbd> to open directly.
  </FeatureCard>
  <FeatureCard title="Actions Menu" icon="scroll-text" color="purple">
    Click **Actions → Open Module Folder** in the toolbar.
  </FeatureCard>
  <FeatureCard title="Welcome Screen" icon="rocket" color="orange">
    Click **Open Module Folder** on the welcome screen.
  </FeatureCard>
</CardGrid>

### Module Directory Structure

When you save a portal-bound module to disk, LMDA Composer creates a folder with the following structure:

```
my-datasource/
├── script.groovy          # Main collection script
├── ad-script.groovy       # Active Discovery script (if applicable)
├── pre-script.groovy      # Pre-script (if applicable)
└── module.json            # Module metadata + portal binding
```

The `module.json` file contains:
- Module ID and name
- Portal hostname and module type
- Script type mappings
- Original module metadata for diffing

### Use Cases

<Tabs>
  <TabItem label="Version Control" icon="git-branch">
    **Track module changes with Git:**

    1. Save module to a local folder
    2. Initialize a Git repository: `git init`
    3. Commit changes as you develop
    4. Push to GitHub/GitLab for backup and collaboration

    This provides full version history that LogicMonitor doesn't offer natively.
  </TabItem>
  <TabItem label="Team Collaboration" icon="users">
    **Share module development:**

    1. Save module to a shared repository
    2. Team members clone the repo
    3. Each developer opens the module directory
    4. Changes can be reviewed via pull requests
    5. One person commits approved changes to LM
  </TabItem>
  <TabItem label="Backup & Restore" icon="save">
    **Keep local copies of important modules:**

    1. Save critical modules to disk as backups
    2. Store in cloud-synced folder (Dropbox, OneDrive)
    3. Restore anytime by opening the module directory
    4. Compare local vs portal versions before committing
  </TabItem>
  <TabItem label="Offline Development" icon="laptop">
    **Work without portal connection:**

    1. Save module while connected
    2. Develop offline with full editor features
    3. Reconnect to portal when ready
    4. Open module directory and commit changes
  </TabItem>
</Tabs>

### Workflow Example

<Steps>

1. **Load module from portal** using the LogicModule Browser

2. **Save to disk** via Actions → Save As or <kbd>Cmd</kbd>+<kbd>K</kbd>, <kbd>Shift</kbd>+<kbd>S</kbd>

3. **Initialize Git** in the module folder for version tracking

4. **Make changes** and commit locally with descriptive messages

5. **Later, open module directory** with <kbd>Cmd</kbd>+<kbd>K</kbd>, <kbd>F</kbd>

6. **Push changes back to portal** using the Commit button

</Steps>

<Aside type="tip" title="Module Binding Persistence">
  The `module.json` file stores all the information needed to reconnect to your portal. As long as this file exists and the module still exists in your portal, you can restore the full commit workflow.
</Aside>

---

## Creating New Files

<Steps>

1. Click **New File** on welcome screen, or click **+** in the tab bar, or press <kbd>Ctrl</kbd>+<kbd>K</kbd>, <kbd>N</kbd>

2. File opens with your default language setting

3. Start writing your script (or insert a template from Snippets)

4. Save with <kbd>Ctrl</kbd>+<kbd>S</kbd> when ready

</Steps>

---

## Saving Files

<Tabs>
  <TabItem label="Save" icon="approve-check-circle">
    **Keyboard:** <kbd>Ctrl</kbd>+<kbd>S</kbd> / <kbd>Cmd</kbd>+<kbd>S</kbd>

    **First save:** Opens a dialog to choose location and filename.

    **Subsequent saves:** File updates in place, no dialog appears, dirty indicator clears.
  </TabItem>
  <TabItem label="Save As" icon="document">
    **Keyboard:** <kbd>Ctrl</kbd>+<kbd>K</kbd>, <kbd>Shift</kbd>+<kbd>S</kbd> / <kbd>Cmd</kbd>+<kbd>K</kbd>, <kbd>Shift</kbd>+<kbd>S</kbd>

    Creates a copy at a new location. Original file remains unchanged.
  </TabItem>
</Tabs>

<img src="/lmda-composer/workspace/file-save-dialog.png" alt="File save dialog showing location picker" style="border-radius: 0.5rem; margin: 1.5rem 0;" />

---

## File System Access API

LMDA Composer uses the modern File System Access API for seamless file operations.

### Browser Compatibility

<CardGrid>
  <FeatureCard title="Chrome" icon="globe" color="green">
    <StatusBadge status="success" label="Full Support" />
    Direct file reading/writing, file handles persist across sessions.
  </FeatureCard>
  
  <FeatureCard title="Edge" icon="globe" color="green">
    <StatusBadge status="success" label="Full Support" />
    Same capabilities as Chrome.
  </FeatureCard>
  
  <FeatureCard title="Brave/Vivaldi" icon="shield" color="orange">
    <StatusBadge status="warning" label="Requires Setup" />
    May need to enable the File System Access API flag.
  </FeatureCard>
  
</CardGrid>

### Brave Browser Setup

If File System Access is not available in Brave:

<Steps>

1. Open `brave://flags` in a new tab

2. Search for "File System Access API"

3. Set it to **Enabled**

4. Restart your browser

</Steps>

### Vivaldi Setup

For Vivaldi browser:

<Steps>

1. Open `vivaldi://extensions`

2. Select "LMDA Composer"

3. Enable "Allow access to file URLs"

</Steps>

---

## Auto-Save Drafts

LMDA Composer automatically saves drafts to protect your work.

<CardGrid>
  <FeatureCard title="How It Works" icon="save" color="blue">
    Drafts saved every 30 seconds to browser local storage. Recovered on next session.
  </FeatureCard>
  <FeatureCard title="Draft Recovery" icon="history" color="purple">
    If browser closes unexpectedly, draft recovery dialog appears on next open. Click **Restore** or **Discard**.
  </FeatureCard>
</CardGrid>

<Aside type="note" title="Draft Limitations">
  - Only unsaved changes are drafted
  - Very large files may not draft completely
  - Drafts are per-browser, not synced across devices
</Aside>

---

## File Handles

### Persistent Handles

For supported browsers:
- File handles saved to session
- Reopening restores handles
- Continue editing from where you left off

### Handle Expiration

Handles expire when:
- Browser is fully closed
- Permissions are revoked
- File is moved or deleted

### Refreshing Handles

If a handle expires:

1. File shows as "Unconnected"
2. Click **Reconnect** in tab
3. Select the file again

---

## Tabs and Files

<Tabs>
  <TabItem label="Tab Names" icon="tag">
    - Local files show the filename
    - Unsaved files show "Untitled"
    - Module tabs show module name with link icon
  </TabItem>
  <TabItem label="Dirty State" icon="warning">
    The dirty dot (•) indicates:
    - Unsaved changes to disk
    - Modified since last save
    - Will prompt on close
  </TabItem>
  <TabItem label="Close Confirmation" icon="information">
    Closing a dirty tab shows options:
    - **Save & Close**
    - **Discard**
    - **Cancel**
  </TabItem>
</Tabs>

---

## Recent Files

### Viewing Recent Files

The welcome screen shows recent files with:
- File name and path
- Last opened date
- Language indicator

### Managing Recent Files

- Click to open a recent file
- Use the remove button to clear items from the list
- List auto-cleans invalid entries

### Recent Files Limit

Configure in Settings:
- Default: 10 files
- Range: 5-50 files

---

## Best Practices

<CardGrid>
  <FeatureCard title="Organize Your Scripts" icon="folder" color="purple">
    Create a folder structure like `scripts/production/datasources/` for easy navigation.
  </FeatureCard>
  <FeatureCard title="Backup Important Scripts" icon="check-circle" color="green">
    Save to cloud-synced folders (Dropbox, OneDrive) or use version control (Git).
  </FeatureCard>
  <FeatureCard title="Use Naming Conventions" icon="tag" color="blue">
    Use clear names like `DS_Linux_CPU_Usage.groovy` or `PS_Windows_Services.ps1`.
  </FeatureCard>
</CardGrid>

### Local Development Workflow

<Steps>

1. Create local file

2. Develop and test script

3. When ready, copy to module or import as new

4. Keep local copy as backup

</Steps>

---

## Next Steps

<LinkCard
  title="Snippets Library"
  description="Use built-in and custom code snippets to speed up development."
  href="/lmda-composer/workspace/snippets/"
/>



