---
title: Request Builder
description: Build and send API requests with the request builder interface.
---

import { Steps, Tabs, TabItem, Aside, Badge, LinkCard } from '@astrojs/starlight/components';
import { Icon } from '@astrojs/starlight/components';
import HttpMethodBadge from '../../../components/HttpMethodBadge.astro';
import StatusBadge from '../../../components/StatusBadge.astro';

The Request Builder provides a structured interface for creating and executing LogicMonitor API requests.

<img src="/lmda-composer/api-explorer/request-builder.png" alt="Request builder with endpoint, parameters, and JSON body" style="border-radius: 0.5rem; margin: 1.5rem 0;" />

## Request Components

### HTTP Method

Select the appropriate HTTP method from the dropdown:

| Method | Purpose | Has Body |
|--------|---------|----------|
| <HttpMethodBadge method="GET" /> | Retrieve data | No |
| <HttpMethodBadge method="POST" /> | Create resources | Yes |
| <HttpMethodBadge method="PUT" /> | Replace resources | Yes |
| <HttpMethodBadge method="PATCH" /> | Update fields | Yes |
| <HttpMethodBadge method="DELETE" /> | Remove resources | No |

---

### Endpoint Path

Enter the API endpoint path with autocomplete:

```
/device/devices
/device/devices/{id}
/setting/collectors
```

#### Path Parameters

Replace `{id}` placeholders with actual values:

```
/device/devices/123
/setting/collectors/45/installers
```

Or use variables for reusability:

```
/device/devices/{{deviceId}}
```

The path field provides autocomplete suggestions from the endpoint catalog as you type.

---

### Body Modes

The request builder offers two modes for editing request content:

<Tabs>
  <TabItem label="Form Mode" icon="pencil">
    Form mode provides structured editors for:

    | Section | Description |
    |---------|-------------|
    | **Query Parameters** | Key-value pairs appended to the URL |
    | **Headers** | Custom HTTP headers for the request |
    | **Body** | JSON body as key-value form fields |

    Parameters are automatically URL-encoded when sending. Toggle parameters on/off without deleting them.
  </TabItem>
  
  <TabItem label="Raw JSON Mode" icon="seti:json">
    Raw mode provides a full JSON editor for the request body:

    - Monaco editor with syntax highlighting
    - Auto-formatting and validation
    - Variable substitution (`{{variableName}}`)
    - Full control over JSON structure

    ```json
    {
      "name": "New Device",
      "displayName": "web-server-01",
      "preferredCollectorId": 1,
      "hostGroupIds": "1,2,3"
    }
    ```
  </TabItem>
</Tabs>

Toggle between modes using the **Form** / **Raw JSON** tabs above the body editor.

---

### Query Parameters

Common query parameters for LogicMonitor API:

| Parameter | Description | Example |
|-----------|-------------|---------|
| `size` | Results per page | `size=100` |
| `offset` | Pagination offset | `offset=0` |
| `filter` | Filter expression | `filter=displayName~"web"` |
| `fields` | Limit response fields | `fields=id,displayName` |
| `sort` | Sort order | `sort=+displayName` |

#### Filter Syntax

LogicMonitor filters use this syntax:

```
filter=property:value
filter=property~"partial"
filter=property>"2023-01-01"
```

**Operators:**

| Operator | Meaning |
|----------|---------|
| `:` | equals |
| `~` | contains |
| `!:` | not equals |
| `>` | greater than |
| `<` | less than |
| `>:` | greater or equal |
| `<:` | less or equal |

---

## Endpoint Catalog

The left panel shows all available API endpoints organized by category.

### Browsing Endpoints

<Steps>

1. Use the search box to filter by path, method, or description

2. Expand categories to browse endpoints

3. Click an endpoint to load it into the request builder

</Steps>

### Endpoint Categories

Endpoints are organized by resource type:

- **Devices** — Device management, properties, and monitoring
- **Device Groups** — Group operations and hierarchy
- **DataSources** — LogicModule management
- **Alerts** — Alert management and acknowledgment
- **Settings** — Account and portal settings
- **Reports** — Report generation and scheduling

### Selecting an Endpoint

When you click an endpoint in the catalog:

- Method and path are populated automatically
- Example request body is generated (for POST/PUT/PATCH)
- Tab name updates to reflect the endpoint
- Previous response is cleared

---

## Sending Requests

### Execute Request

Click **Send Request** or press <kbd>Ctrl</kbd>+<kbd>Enter</kbd>.

### Request Status

During execution:
- Send button shows a spinner
- Status shows "Sending..."
- Progress indicator visible for long requests

---

## Response Viewer

### Response Tabs

The response viewer provides four tabs:

<Tabs>
  <TabItem label="JSON" icon="seti:json">
    Collapsible, syntax-highlighted JSON tree:

    - Expand/collapse nested objects and arrays
    - Copy individual values
    - Navigate large responses easily
  </TabItem>
  
  <TabItem label="Raw" icon="document">
    Plain text response body:

    - Full unformatted response
    - Useful for non-JSON responses
    - Search with <kbd>Ctrl</kbd>+<kbd>F</kbd>
  </TabItem>
  
  <TabItem label="Headers" icon="list-format">
    Response headers with copy functionality:

    - View all response headers
    - Copy individual header values
    - Check rate limit and cache headers
  </TabItem>
  
  <TabItem label="Snippets" icon="seti:shell">
    Generated code snippets for the current request:

    | Language | Format |
    |----------|--------|
    | **cURL** | Command-line HTTP request |
    | **Python** | `requests` library code |
    | **PowerShell** | `Invoke-RestMethod` cmdlet |
    | **Groovy** | `HttpURLConnection` code |

    Copy snippets to use in scripts, automation, or documentation.
  </TabItem>
</Tabs>

### Response Status

| Section | Content |
|---------|---------|
| **Status** | HTTP status code and text |
| **Time** | Response duration (e.g., "234ms") |
| **Size** | Response size in bytes |

### Status Codes

<Tabs>
  <TabItem label="Success" icon="approve-check-circle">
    | Code | Meaning |
    |------|---------|
    | <Badge text="200" variant="success" /> | Success – Request completed |
    | <Badge text="201" variant="success" /> | Created – Resource created |
  </TabItem>
  
  <TabItem label="Client Errors" icon="warning">
    | Code | Meaning | Action |
    |------|---------|--------|
    | <Badge text="400" variant="caution" /> | Bad Request | Fix request syntax |
    | <Badge text="401" variant="caution" /> | Unauthorized | Check session |
    | <Badge text="403" variant="caution" /> | Forbidden | Check permissions |
    | <Badge text="404" variant="caution" /> | Not Found | Check endpoint/IDs |
    | <Badge text="429" variant="caution" /> | Rate Limited | Wait and retry |
  </TabItem>
  
  <TabItem label="Server Errors" icon="error">
    | Code | Meaning | Action |
    |------|---------|--------|
    | <Badge text="500" variant="danger" /> | Server Error | Contact support |
    | <Badge text="503" variant="danger" /> | Service Unavailable | Retry later |
  </TabItem>
</Tabs>

---

## Pagination

### Handling Large Results

LogicMonitor paginates large result sets:

```json
{
  "total": 1500,
  "searchId": null,
  "items": [...],
  "data": null
}
```

### Pagination Parameters

| Parameter | Description | Default |
|-----------|-------------|---------|
| `size` | Items per page | 50 |
| `offset` | Starting position | 0 |

### Fetching All Results

To retrieve all items:

1. Note the `total` count from the first response
2. Calculate pages: `ceil(total / size)`
3. Increment `offset` by `size` for each page

**Example for 1500 items with size=100:**
- Page 1: `offset=0`
- Page 2: `offset=100`
- Page 15: `offset=1400`

---

## Example Workflows

<Tabs>
  <TabItem label="List Devices" icon="laptop">
    <Steps>

    1. <HttpMethodBadge method="GET" size="sm" /> `/device/devices`

    2. Add `size=1000` parameter

    3. Click **Send Request**

    4. Review device list in response

    </Steps>
  </TabItem>
  
  <TabItem label="Create Device" icon="add-document">
    <Steps>

    1. <HttpMethodBadge method="POST" size="sm" /> `/device/devices`

    2. Add request body:
       ```json
       {
         "name": "hostname.example.com",
         "displayName": "My Server",
         "preferredCollectorId": 1,
         "hostGroupIds": "1"
       }
       ```

    3. Click **Send Request**

    4. Note the returned device ID

    </Steps>
  </TabItem>
  
  <TabItem label="Update Device" icon="pencil">
    <Steps>

    1. <HttpMethodBadge method="PATCH" size="sm" /> `/device/devices/{id}`

    2. Replace `{id}` with device ID

    3. Add body:
       ```json
       {
         "customProperties": [
           { "name": "environment", "value": "production" }
         ]
       }
       ```

    4. Click **Send Request**

    </Steps>
  </TabItem>
  
  <TabItem label="Delete Device" icon="close">
    <Steps>

    1. <HttpMethodBadge method="DELETE" size="sm" /> `/device/devices/{id}`

    2. Replace `{id}` with device ID

    3. Click **Send Request**

    4. Confirm <Badge text="200" variant="success" /> response

    </Steps>
  </TabItem>
</Tabs>

---

## Next Steps

<LinkCard
  title="Variables & History"
  description="Use environment variables and review past API requests."
  href="/lmda-composer/api-explorer/variables-history/"
/>
