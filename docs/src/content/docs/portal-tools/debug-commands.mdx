---
title: Debug Commands
description: Run collector debug commands and health checks from LMDA Composer.
---

import { Steps, Tabs, TabItem, Aside, Badge, LinkCard } from '@astrojs/starlight/components';
import { Icon } from '@astrojs/starlight/components';
import StatusBadge from '../../../components/StatusBadge.astro';

The Debug Commands dialog lets you execute collector debug commands directly from LMDA Composer, including a comprehensive collector health check.

## Opening Debug Commands

| Method | Action |
|--------|--------|
| **Welcome Screen** | Click **Debug Commands** on the welcome screen |
| **Keyboard Shortcut** | Press <kbd>Cmd</kbd>+<kbd>K</kbd>, <kbd>D</kbd> to open directly |
| **Actions Menu** | Click **Actions → Debug Commands** in the toolbar |

---

## Debug Commands Interface

<img src="/lmda-composer/portal-tools/debug-commands.png" alt="Debug Commands dialog with command list and categories" style="border-radius: 0.5rem; margin: 1.5rem 0;" />

### Command Search

Type in the search box to filter commands:
- Matches command names
- Matches descriptions
- Case-insensitive search

### Category Filter

<div style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin: 1rem 0;">
  <Badge text="All" variant="default" />
  <Badge text="Discovery" variant="note" />
  <Badge text="System" variant="note" />
  <Badge text="Network" variant="note" />
  <Badge text="Health" variant="note" />
  <Badge text="Scripting" variant="note" />
  <Badge text="File Ops" variant="note" />
  <Badge text="Diagnostics" variant="note" />
  <Badge text="Windows" variant="note" />
  <Badge text="Query" variant="note" />
  <Badge text="Task Mgmt" variant="note" />
</div>

| Category | Description |
|----------|-------------|
| **Discovery** | Active Discovery and data collection task commands |
| **System** | Collector system info and configuration |
| **Network** | Network diagnostics and connectivity tests |
| **Health** | Health check and monitoring commands |
| **Scripting** | Script testing and execution |
| **File Ops** | File system operations |
| **Diagnostics** | Diagnostic and troubleshooting tools |
| **Windows** | Windows-specific commands (WMI, PowerShell) |
| **Query** | Protocol queries (SNMP, HTTP, etc.) |
| **Task Mgmt** | Task management and control |

### Command List

The filtered list shows:
- Command name
- Brief description
- Parameter indicators (if required)

---

## Running Commands

### Selecting a Command

<Steps>

1. Browse or search for a command

2. Click to select it—the command panel opens on the right

3. Fill in any required parameters

4. Select which collector(s) to run on

5. Click **Run Command**

</Steps>

### Command Parameters

Some commands require input:

| Parameter Type | Input |
|----------------|-------|
| Text | Free-form text input |
| Number | Numeric input |
| IP Address | IP address format |
| OID | SNMP OID format |

### Selecting Collectors

Choose which collector(s) run the command:

1. Scroll through collector groups
2. Check individual collectors
3. Or use **Select All** for a group

<Aside type="tip" title="Multi-Collector Execution">
  You can run commands on multiple collectors simultaneously to compare results across your environment.
</Aside>

---

## Multi-Collector Results

When running on multiple collectors:

### Results Tabs

Each collector gets its own tab showing:
- Collector name and status
- Execution duration
- Command output

### Comparing Results

Switch between tabs to compare output across collectors. Useful for:
- Identifying configuration differences
- Comparing network connectivity
- Checking task loads

### Exporting Results

Click **Copy** to copy all results, including collector identification for documentation.

---

## Collector Health Check

The Health Check is a comprehensive diagnostic featured prominently at the top of the dialog. The report has been redesigned in v1.5.0 with modern styling and improved data visualization.

<img src="/lmda-composer/portal-tools/healthcheck-results.png" alt="Health check report with summary cards and detailed tables" style="border-radius: 0.5rem; margin: 1.5rem 0;" />

### Running a Health Check

<Steps>

1. Click the **Health Check** card at the top of the dialog

2. Select one or more collectors

3. Click **Run Health Check**

4. Review the comprehensive report

</Steps>

### What It Checks

- **Collection Summary** — Thread counts across all task types (tlist, adlist, splist, tplist, aplist)
- **Top Failing Modules** — Charts showing modules with the most failures
- **Longest Running Tasks** — Analysis of tasks taking the most time
- **Device Capacity** — Limits and current utilization
- **Agent Config** — Current configuration vs. defaults
- **Collector Logs** — Recent log entries and error patterns

### Health Check Report

The report displays:

**Summary Cards:**
- Collector info (ID, size, version, platform)
- Failing threads count (color-coded by severity)
- Total instances monitored
- Debug run time
- JVM and physical memory usage

**Detailed Sections:**

<Tabs>
  <TabItem label="Charts" icon="seti:db">
    - **Collection Summary** — Thread breakdown by task type
    - **Top Failing Modules** — Modules with the most failures
    - **Long Running Tasks** — Tasks taking the longest time
  </TabItem>
  
  <TabItem label="Tables" icon="list-format">
    - **Host Stats** — System resource statistics
    - **Tlist Summary** — Task list summary with instance counts
    - **Agent Config** — Current vs. default configuration comparison
    - **Capacity Limits** — Device and instance limits
    - **Task Lists** — Detailed task breakdowns (aplist, splist, adlist, tplist)
    - **Process List** — Running processes with resource usage
  </TabItem>
  
  <TabItem label="Diagnostics" icon="warning">
    - **AppliesTo Queries** — Troubleshooting expressions with inline testing
    - **Message Results** — Top recurring messages and errors
    - **Logs Viewer** — Recent collector log entries
  </TabItem>
</Tabs>

### AppliesTo Troubleshooting

The Health Check report includes AppliesTo troubleshooting queries. These are pre-built expressions that help identify common issues. You can test these queries directly from the report using inline AppliesTo testing.

### Interpreting Results

The report uses color-coded indicators for quick assessment:

| Indicator | Meaning |
|-----------|---------|
| <Badge text="Green" variant="success" /> | Healthy — no issues detected |
| <Badge text="Yellow" variant="caution" /> | Warning — review recommended |
| <Badge text="Red" variant="danger" /> | Error — action needed |

**Failing Threads:**
- **0 threads** — Healthy (green)
- **1-9 threads** — Warning (yellow)
- **10+ threads** — Error (red)

**Debug Run Time:**
- **< 5 seconds** — Normal (green)
- **5-10 seconds** — Elevated (yellow), check collector load
- **> 10 seconds** — High (red), collector may be overloaded

---

## Common Debug Commands

<Tabs>
  <TabItem label="Network" icon="random">
    | Command | Purpose |
    |---------|---------|
    | `!ping` | Test connectivity to host |
    | `!nslookup` | DNS resolution test |
    | `!traceroute` | Network path trace |
    | `!curl` | HTTP request test |
  </TabItem>
  
  <TabItem label="SNMP" icon="seti:json">
    | Command | Purpose |
    |---------|---------|
    | `!snmpget` | Get single OID value |
    | `!snmpwalk` | Walk OID tree |
    | `!snmptable` | Retrieve SNMP table |
  </TabItem>
  
  <TabItem label="WMI" icon="seti:powershell">
    | Command | Purpose |
    |---------|---------|
    | `!wmi` | Execute WMI query |
    | `!posh` | Run PowerShell command |
  </TabItem>
  
  <TabItem label="Tasks" icon="list-format">
    | Command | Purpose |
    |---------|---------|
    | `!tasklist` | List running tasks |
    | `!taskstop` | Stop a specific task |
    | `!tlist` | Task list summary |
  </TabItem>
</Tabs>

---

## Example Workflows

### Debugging SNMP Issues

<Steps>

1. Open Debug Commands and select the target collector

2. Run `!ping` to verify network connectivity to the device

3. Run `!snmpget` with the device IP and a test OID (like sysName)

4. If `!snmpget` fails, check community string and SNMP version

5. Run `!snmpwalk` to see what OIDs are available

</Steps>

### Checking Collector Performance

<Steps>

1. Run **Health Check** on the collector

2. Review memory and CPU usage in the summary

3. Check task queue depths for backlog

4. Look for stuck or long-running tasks in the task list

5. Review error messages for recurring issues

</Steps>

### Testing Network Paths

<Steps>

1. Run `!nslookup` to verify DNS resolution

2. Run `!ping` to check basic connectivity

3. Run `!traceroute` for detailed path analysis

4. Identify network bottlenecks or routing issues

</Steps>

---

## Output Formats

### Text Output

Most commands return plain text:
- Formatted for readability
- Line-by-line results
- Error messages highlighted in red

### Structured Output

Some commands (like Health Check) return structured data:
- Rendered as formatted tables
- Summary statistics
- Expandable sections

### Error Output

Failed commands show:
- Error message
- Exit code (if applicable)
- Troubleshooting hints

---

## Best Practices

- **Before Running** — Verify correct collector(s) selected. Double-check parameter values. Consider impact on production collectors.
- **Interpreting Results** — Compare against known good baselines. Check timestamps for currency. Look for patterns across collectors.
- **Documentation** — Copy results for ticketing systems. Note collector and timestamp. Compare before/after for changes.

---

## Next Steps

<LinkCard
  title="API Explorer"
  description="Explore the LogicMonitor REST API with an interactive request builder."
  href="/lmda-composer/api-explorer/overview/"
/>
