---
title: Committing Changes
description: Save script and metadata changes back to LogicMonitor.
---

import { Steps, Tabs, TabItem, Aside, Badge, LinkCard } from '@astrojs/starlight/components';
import { Icon } from '@astrojs/starlight/components';
import StatusBadge from '../../../components/StatusBadge.astro';

When you've finished editing a module script, commit your changes to push them back to LogicMonitor.

## What Is Committing?

Committing saves your changes from LMDA Composer to the LogicModule in LogicMonitor:

- Script content is updated
- Staged metadata changes are applied
- The module is updated in your portal
- A new version is created

---

## When Can You Commit?

The Commit button is available when:

| Requirement | Description |
|-------------|-------------|
| **Module-bound tab** | Tab is loaded from a LogicModule (not a local file) |
| **Unsaved changes** | You have script or metadata modifications |
| **Correct portal** | You're connected to the module's portal |
| **Write permissions** | You have permission to modify the module |

## Commit Button States

| State | Meaning |
|-------|---------|
| <Badge text="Commit" variant="success" /> | Ready to commit—click to proceed |
| <Badge text="Commit" variant="default" /> | Disabled—no changes or not a module tab |
| <StatusBadge status="running" label="Committing..." /> | Commit in progress |

---

## The Commit Flow

<Steps>

1. ### Make Your Changes
   Edit the script and/or module details as needed.

2. ### Test Your Script
   Run the script to verify functionality. Check parsed output and validate against mode rules.

3. ### Review Changes
   Click **Commit** to open the confirmation dialog.

4. ### Enter Commit Reason (Optional)
   Describe what you changed and why. This is recorded with the version.

5. ### Confirm
   Click **Commit** to push changes to LogicMonitor.

6. ### Verify Success
   Tab dirty indicator clears. New version created in portal.

</Steps>

---

## Commit Confirmation Dialog

### Changes Summary

The dialog shows what will be committed:

| Section | What's Shown |
|---------|--------------|
| **Script Changes** | Before/after diff preview with syntax highlighting |
| **Metadata Changes** | List of modified fields with old and new values |
| **Directory Scripts** | Additional scripts from module directory (if applicable) |

### Commit Reason

Enter a descriptive commit reason explaining your changes (optional but recommended):

<Tabs>
  <TabItem label="Good Examples" icon="approve-check-circle">
    - "Fixed SNMP timeout handling for slow devices"
    - "Added CPU temperature datapoint (JIRA-1234)"
    - "Updated AppliesTo to include Linux 8.x servers"
    - "Increased collection interval from 1min to 5min"
  </TabItem>
  <TabItem label="Bad Examples" icon="close">
    - "Updated script" — too vague
    - "Changes" — meaningless
    - "Fixed bug" — which bug?
    - "Test" — not descriptive
  </TabItem>
</Tabs>

---

## Commit Options

| Option | Description |
|--------|-------------|
| **Script Only** | If you only changed the script, only script content is updated. Metadata remains unchanged. |
| **Script + Metadata** | Both are committed together in a single atomic update. One version created. |
| **Metadata Only** | From Module Details editor—stage metadata changes and commit without script changes. |

---

## Directory Scripts

If you're working with a module directory (local folder linked to a module), you can commit multiple scripts at once:

### How It Works

When a module has a linked directory with multiple script files (e.g., collection script and AD script), the commit dialog shows all scripts with changes.

| Column | Description |
|--------|-------------|
| **Checkbox** | Select which scripts to include in the commit |
| **Script Name** | The script file (e.g., `collection.groovy`, `ad.groovy`) |
| **Status** | Whether the script has changes |

### Selecting Scripts

<Steps>

1. Open the commit dialog

2. Review the list of directory scripts

3. Check/uncheck scripts to include or exclude

4. Only selected scripts with changes will be committed

</Steps>

<Aside type="note" title="Linked Directories">
  Directory scripts appear only when you've linked a local folder to the module using the File Management features.
</Aside>

---

## Handling Errors

<Tabs>
  <TabItem label="Validation Errors" icon="warning">
    If validation fails:
    - Error message displayed
    - Commit blocked
    - Fix issues and retry

    **Common causes:**
    - Script exceeds 64,000 character limit
    - Required metadata fields empty
    - Invalid AppliesTo syntax
  </TabItem>
  
  <TabItem label="Permission Errors" icon="close">
    If you lack permissions:
    - 403 error displayed
    - Contact your LM administrator
    - Check your role assignments in LogicMonitor
  </TabItem>
  
  <TabItem label="Conflict Errors" icon="warning">
    If the module was modified by others:
    - Conflict warning shown
    - Reload the module to see current state
    - Merge your changes manually if needed
  </TabItem>
  
  <TabItem label="Network Errors" icon="rocket">
    If the connection fails:
    - Retry option available
    - Check your LM session (may have expired)
    - Verify network connectivity
  </TabItem>
</Tabs>

---

## After Committing

### Verify in LogicMonitor

<Steps>

1. Open LogicMonitor in your browser

2. Navigate to the module in Settings → LogicModules

3. Verify your changes appear in the script

4. Check version history shows your commit

</Steps>

### Active Discovery Impact

If you changed AD scripts:
- Discovery runs on next scheduled interval
- Or trigger manual discovery from device
- Verify expected instances are found

### Collection Impact

Script changes take effect immediately:
- Next collection uses new script
- Monitor for errors in Alerts
- Check data continuity in graphs

---

## Best Practices

- **Always Test First** — Run the script multiple times with different devices. Verify output parsing and check edge cases.
- **Use Descriptive Reasons** — Your commit reason helps future you, team members, and auditors understand changes.
- **Commit Small Changes** — Prefer frequent small commits over large batches. Easier to identify issues and revert if needed.
- **Coordinate with Team** — Communicate planned changes for shared modules. Avoid simultaneous edits.
- **Back Up Before Major Changes** — Export scripts to local files before significant modifications.

---

## Commit vs. Save

| Action | What It Does | Where Saved |
|--------|--------------|-------------|
| **Save** | Saves to local file | Your computer's disk |
| **Commit** | Pushes to LogicMonitor | LM portal (creates new version) |

You can save locally as backup before committing.

---

## Emergency Rollback

<Aside type="caution" title="No Version History for User Changes">
  LMDA Composer and LogicMonitor do not maintain a history of your changes. There is no built-in way to revert to a previous version of your edits.
</Aside>

If a commit causes problems, you'll need to:

- **Restore from backup**: If you exported the script before making changes
- **Rewrite manually**: Undo the problematic changes by hand
- **Check Lineage** (for core modules): If you're working with a LogicMonitor Exchange module, you can view the original Exchange version via Lineage and use it as a reference

<Aside type="tip" title="Prevent Data Loss">
  Before making significant changes, export your script to a local file as a backup. Consider using Git for version control of exported scripts.
</Aside>

---

## Next Steps

<LinkCard
  title="File Management"
  description="Learn about opening, saving, and managing local script files."
  href="/lmda-composer/workspace/file-management/"
/>
