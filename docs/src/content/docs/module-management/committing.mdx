---
title: Committing Changes
description: Save script and metadata changes back to LogicMonitor.
---

import { Card, CardGrid, Steps, Tabs, TabItem, Aside, Badge, LinkCard } from '@astrojs/starlight/components';
import { Icon } from '@astrojs/starlight/components';
import StatusBadge from '../../../components/StatusBadge.astro';
import FeatureCard from '../../../components/FeatureCard.astro';

When you've finished editing a module script, commit your changes to push them back to LogicMonitor.

## What Is Committing?

Committing saves your changes from LMDA Composer to the LogicModule in LogicMonitor:

- Script content is updated
- Staged metadata changes are applied
- The module is updated in your portal
- The commit message is recorded

---

## When Can You Commit?

The Commit button is available when:

<div style="display: grid; gap: 0.5rem; margin: 1rem 0; font-size: 0.875rem;">
  <div><Badge text="Required" variant="success" /> Tab is bound to a LogicModule (loaded from browser)</div>
  <div><Badge text="Required" variant="success" /> You have unsaved changes (script or metadata)</div>
  <div><Badge text="Required" variant="success" /> You're connected to the correct portal</div>
  <div><Badge text="Required" variant="success" /> You have write permissions for the module</div>
</div>

## Commit Button States

<div style="display: grid; gap: 0.75rem; margin: 1rem 0;">
  <div style="display: flex; align-items: center; gap: 0.75rem;">
    <Badge text="Commit" variant="success" />
    <span style="font-size: 0.875rem;">Ready to commit—click to proceed</span>
  </div>
  <div style="display: flex; align-items: center; gap: 0.75rem;">
    <Badge text="Commit" variant="default" />
    <span style="font-size: 0.875rem;">Disabled—no changes or not a module tab</span>
  </div>
  <div style="display: flex; align-items: center; gap: 0.75rem;">
    <StatusBadge status="running" label="Committing..." />
    <span style="font-size: 0.875rem;">Commit in progress</span>
  </div>
</div>

---

## The Commit Flow

<Steps>

1. ### Make Your Changes
   Edit the script and/or module details as needed.

2. ### Test Your Script
   Run the script to verify functionality. Check parsed output and validate against mode rules.

3. ### Review Changes
   Click **Commit** to open the confirmation dialog.

4. ### Enter Commit Message
   Describe what you changed and why.

5. ### Confirm
   Click **Commit** to push changes to LogicMonitor.

6. ### Verify Success
   Tab dirty indicator clears. New version created in portal.

</Steps>

---

## Commit Confirmation Dialog

### Changes Summary

| Section | What's Shown |
|---------|--------------|
| Script Changes | Before/after diff preview |
| Metadata Changes | List of modified fields |
| Validation | Any warnings or errors |

### Commit Message

Enter a descriptive commit message explaining your changes:

<Tabs>
  <TabItem label="Good Examples" icon="approve-check-circle">
    - "Fixed SNMP timeout handling for slow devices"
    - "Added CPU temperature datapoint (JIRA-1234)"
    - "Updated AppliesTo to include Linux 8.x servers"
    - "Increased collection interval from 1min to 5min"
  </TabItem>
  <TabItem label="Bad Examples" icon="close">
    - "Updated script" — too vague
    - "Changes" — meaningless
    - "Fixed bug" — which bug?
    - "Test" — not descriptive
  </TabItem>
</Tabs>

### Tags (Optional)

Add tags to categorize your commit:
- `bugfix` – Bug corrections
- `enhancement` – New features
- `hotfix` – Urgent fixes

---

## Commit Options

<CardGrid>
  <FeatureCard title="Script Only" icon="code" color="green">
    If you only changed the script, only script content is updated. Metadata remains unchanged.
  </FeatureCard>
  <FeatureCard title="Script + Metadata" icon="layers" color="purple">
    Both are committed together in a single atomic update. One version created.
  </FeatureCard>
  <FeatureCard title="Metadata Only" icon="settings" color="blue">
    From Module Details editor—stage metadata changes and commit without script changes.
  </FeatureCard>
</CardGrid>

---

## Handling Errors

<Tabs>
  <TabItem label="Validation Errors" icon="warning">
    If validation fails:
    - Error message displayed
    - Commit blocked
    - Fix issues and retry

    **Common causes:**
    - Script exceeds 64,000 character limit
    - Required metadata fields empty
    - Invalid AppliesTo syntax
  </TabItem>
  
  <TabItem label="Permission Errors" icon="close">
    If you lack permissions:
    - 403 error displayed
    - Contact your LM administrator
    - Check your role assignments in LogicMonitor
  </TabItem>
  
  <TabItem label="Conflict Errors" icon="warning">
    If the module was modified by others:
    - Conflict warning shown
    - Reload the module to see current state
    - Merge your changes manually if needed
  </TabItem>
  
  <TabItem label="Network Errors" icon="rocket">
    If the connection fails:
    - Retry option available
    - Check your LM session (may have expired)
    - Verify network connectivity
  </TabItem>
</Tabs>

---

## After Committing

### Verify in LogicMonitor

<Steps>

1. Open LogicMonitor in your browser

2. Navigate to the module in Settings → LogicModules

3. Verify your changes appear in the script

4. Check version history shows your commit

</Steps>

### Active Discovery Impact

If you changed AD scripts:
- Discovery runs on next scheduled interval
- Or trigger manual discovery from device
- Verify expected instances are found

### Collection Impact

Script changes take effect immediately:
- Next collection uses new script
- Monitor for errors in Alerts
- Check data continuity in graphs

---

## Best Practices

<CardGrid>
  <FeatureCard title="Always Test First" icon="play" color="green">
    Run the script multiple times with different devices. Verify output parsing and check edge cases.
  </FeatureCard>
  <FeatureCard title="Use Descriptive Messages" icon="edit" color="blue">
    Your commit message helps future you, team members, and auditors understand changes.
  </FeatureCard>
  <FeatureCard title="Commit Small Changes" icon="git-branch" color="purple">
    Prefer frequent small commits over large batches. Easier to identify issues and revert if needed.
  </FeatureCard>
  <FeatureCard title="Coordinate with Team" icon="users" color="orange">
    Communicate planned changes for shared modules. Avoid simultaneous edits.
  </FeatureCard>
</CardGrid>

---

## Commit vs. Save

| Action | What It Does | Where Saved |
|--------|--------------|-------------|
| **Save** | Saves to local file | Your computer's disk |
| **Commit** | Pushes to LogicMonitor | LM portal (creates new version) |

You can save locally as backup before committing.

---

## Emergency Rollback

<Aside type="caution" title="No Version History for User Changes">
  LMDA Composer and LogicMonitor do not maintain a history of your changes. There is no built-in way to revert to a previous version of your edits.
</Aside>

If a commit causes problems, you'll need to:

- **Restore from backup**: If you exported the script before making changes
- **Rewrite manually**: Undo the problematic changes by hand
- **Check Lineage** (for core modules): If you're working with a LogicMonitor Exchange module, you can view the original Exchange version via Lineage and use it as a reference

<Aside type="tip" title="Prevent Data Loss">
  Before making significant changes, export your script to a local file as a backup. Consider using Git for version control of exported scripts.
</Aside>

---

## Next Steps

<LinkCard
  title="File Management"
  description="Learn about opening, saving, and managing local script files."
  href="/lmda-composer/workspace/file-management/"
/>



